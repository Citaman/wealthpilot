# v0.14.5 - Pro Intelligence & Security Experience

**Objective**: Elevate WealthPilot from a basic tracker to a professional-grade financial intelligence tool with bank-level security and power-user efficiency.

---

## 1. Global Privacy Audit & Fix
- **Issue**: Current `PrivacyBlur` is inconsistent.
- **Requirement**:
    - Audit all components using `formatCurrency` or `Intl.NumberFormat`.
    - Apply `PrivacyBlur` to all: Total Balances, Transaction Amounts, Budget Totals, Goal Progress, Chart Tooltips (Y-Axis where possible), and Summary Stats.
    - Ensure `PrivacyBlur` handles inline and block layouts without breaking the UI grid.

## 2. Advanced CFO Layer (Intelligence)
### 2.1 Financial Health Score v2
- **Enhancements**:
    - **Debt-to-Income Ratio**: Calculate based on credit account balances vs. monthly income.
    - **Net Worth Trend**: 6-month growth rate.
    - **Interactive Simulation**: "What happens if I save â‚¬500 more this month?"
    - **Peer Comparison (Optional/Static)**: Compare against standard financial benchmarks (e.g., 50/30/20 rule).

### 2.2 Cash Flow Anomaly Detection
- **Feature**: Proactively flag transactions that deviate from the 6-month merchant average.
- **UI**: A "Needs Attention" badge on the Dashboard for anomalous bills.

### 2.3 Multi-month Predictions
- **Logic**: Extend `predictions.tsx` to show a 3-month outlook.
- **Confidence Intervals**: Visually represent the "Expected Range" in charts.

## 3. Bank-Grade Security
### 3.1 Encrypted Backups (AES-GCM)
- **Implementation**:
    - PBKDF2 for key derivation from passphrase.
    - AES-GCM for authenticated encryption.
    - New `.wpenc` file format.

## 4. Power-User UX
### 4.1 Command Palette v2
- **Natural Language**: Support queries like "Food > 100", "Spent at Amazon in 2024", "Uncategorized".
- **Shortcuts**: `G G` for Goals, `G T` for Transactions, etc.

### 4.2 Bulk Transaction Workbench
- **UI**: A spreadsheet-like view for transactions.
- **Actions**: Select multiple -> "Change Category", "Add Tag", "Link to Goal", "Mark as Transfer".

### 4.3 Multi-Currency Engine
- **Requirement**: Support accounts in USD/GBP/CHF alongside EUR.
- **Logic**: Use a base currency for the Dashboard. Fetch (and cache locally) FX rates.

## 5. Reliability & Hardening
- **Stress Testing**: Script to inject 10,000 transactions and measure render times for `Recharts`.
- **Schema Migrations**: Implement a `versioned` migration layer in `db.ts` to prevent data loss during schema updates.
